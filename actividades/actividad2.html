<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Actividad 2 - Graficadora de Funciones</title>
  <style>
    body {
      font-family: Arial, sans-serif;
      background: linear-gradient(135deg, #0f0f1e, #1a1a2e);
      color: white;
      padding: 40px;
      line-height: 1.6;
    }
    h1 {
      font-size: 2.5rem;
      color: #8b5cf6;
    }
    p {
      color: #94a3b8;
      margin-bottom: 20px;
    }
    pre {
      background: rgba(0,0,0,0.4);
      border: 1px solid rgba(255,255,255,0.1);
      padding: 20px;
      border-radius: 10px;
      overflow-x: auto;
    }
    code {
      color: #10b981;
      font-size: 1rem;
    }
    .btn {
      display: inline-block;
      margin-top: 20px;
      padding: 12px 25px;
      border-radius: 8px;
      text-decoration: none;
      font-weight: bold;
      transition: all 0.3s ease;
    }
    .btn-pdf {
      background: linear-gradient(45deg, #06b6d4, #3b82f6);
      color: white;
    }
    .btn-pdf:hover {
      box-shadow: 0 8px 20px rgba(6, 182, 212, 0.4);
      transform: translateY(-3px);
    }
    .btn-back {
      background: rgba(255,255,255,0.1);
      color: #94a3b8;
      margin-right: 10px;
    }
    .btn-back:hover {
      background: rgba(255,255,255,0.2);
      color: white;
    }
  </style>
</head>
<body>
  <h1>ðŸ“ˆ Actividad 2: Graficadora de Funciones (ASCII)</h1>
  <p>
    Este programa, desarrollado en Python, permite graficar funciones lineales en un plano cartesiano utilizando Ãºnicamente caracteres de texto en la consola. 
    El usuario puede ingresar dos funciones (por ejemplo <code>2x+1</code> y <code>-x+3</code>), y el sistema representarÃ¡ sus rectas junto con los ejes cartesianos, 
    marcando los puntos de intersecciÃ³n. Esta actividad refuerza la comprensiÃ³n visual de las funciones dentro del curso de ProgramaciÃ³n NumÃ©rica.
  </p>

  <h2>CÃ³digo en Python</h2>
  <pre><code>
    class GraficadoraTexto:
    def __init__(self, xmin=-20, xmax=20, ymin=-10, ymax=10):
        self.xmin = xmin
        self.xmax = xmax
        self.ymin = ymin
        self.ymax = ymax
        self.funciones = []  
    
    def preparar_expresion(self, expr: str) -> str:
        """Convierte la expresiÃ³n escrita en forma amigable a Python"""
        expr = expr.replace(" ", "")       # quitar espacios
        expr = expr.replace("^", "**")     # potencia con ^
        if expr.startswith("x"):           # caso si empieza con x
            expr = "1*" + expr
        expr = expr.replace("-x", "-1*x")  # -x â†’ -1*x
        expr = expr.replace("+x", "+1*x")  # +x â†’ +1*x
        expr = expr.replace("x", "*x")     # 2x â†’ 2*x
        expr = expr.replace("**x", "*x")   # corregir posibles duplicados
        return expr
    
    def agregar_funcion(self, expresion: str, simbolo: str):
        expr_preparada = self.preparar_expresion(expresion)
        self.funciones.append((expr_preparada, simbolo))
    
    def graficar(self):
        print("\nGrÃ¡fico en Plano Cartesiano \n")
        for y in range(self.ymax, self.ymin - 1, -1):
            linea = ""
            for x in range(self.xmin, self.xmax + 1):
                simbolo = " "
                intersecciones = []
                
                for expr, simb in self.funciones:
                    try:
                        y_eval = eval(expr, {"x": x})
                        if abs(y - y_eval) < 0.5:  # tolerancia
                            intersecciones.append(simb)
                    except:
                        pass
                
                if len(intersecciones) > 1:
                    simbolo = "#"  #Cruce
                elif len(intersecciones) == 1:
                    simbolo = intersecciones[0]
                elif x == 0 and y == 0:
                    simbolo = "+"  # origen
                elif x == 0:
                    simbolo = "|"  # eje Y
                elif y == 0:
                    simbolo = "-"  # eje X
                
                linea += simbolo
            print(linea)


if __name__ == "__main__":
    graf = GraficadoraTexto()
    
    # Pedimos dos funciones
    f1 = input("Ingrese la primera funciÃ³n (ejemplo: 2x+1): ")
    f2 = input("Ingrese la segunda funciÃ³n (ejemplo: -x+3): ")
    
    graf.agregar_funcion(f1, "*")
    graf.agregar_funcion(f2, "@")
    
    graf.graficar()
  </code></pre>

  <a href="actividad2.pdf" class="btn btn-pdf" target="_blank">ðŸ“„ Ver PDF</a>
  <a href="../index.html#actividades" class="btn btn-back">â¬… Volver</a>
</body>
</html>